---
import Layout from "../layouts/Layout.astro";
import RelatedProducts from "../components/RelatedProducts";
import VisitWebsite from "../components/VisitWebsite";
import productData from "../../public/assets/data/products.json";
import type { IProduct, IRelatedProduct } from "../types/product.interface";
import ProductVideoCard from "../components/ProductVideoCard";
import { getRelatedProducts } from "../utils/product";

const selectedProduct: IProduct = productData.products[0];

// Get related products excluding the current product and map them to the expected format
const relatedProducts: IRelatedProduct[] = getRelatedProducts(
  productData.products
);
---

<Layout>
  <ProductVideoCard client:visible product={selectedProduct} />
  <RelatedProducts client:visible relatedProducts={relatedProducts} />
  <VisitWebsite client:visible />
</Layout>
